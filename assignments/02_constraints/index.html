<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Constraints Satisfaction Problems | Fundamentals of Artificial Intelligence </title> <meta name="author" content="Anass Dr. Belcaid"> <meta name="description" content="Assignement on solving the NQueen using backtracking "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/course_ai/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/course_ai/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/course_ai/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/course_ai/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/course_ai/assets/img/logo.jpg?bcb4c9013bcba3070632f31cd64d7e45"> <link rel="stylesheet" href="/course_ai/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://anassbelcaid.github.io/course_ai/assignments/02_constraints/"> <script src="/course_ai/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/course_ai/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.min.css" integrity="sha256-q9ba7o845pMPFU+zcAll8rv+gC+fSovKsOoNQ6cynuQ=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css" integrity="sha256-Oppd74ucMR5a5Dq96FxjEzGF7tTw2fZ/6ksAqDCM8GY=" crossorigin="anonymous" media="screen and (prefers-color-scheme: light)"> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css" integrity="sha256-nyCNAiECsdDHrr/s2OQsp5l9XeY2ZJ0rMepjCT2AkBk=" crossorigin="anonymous" media="screen and (prefers-color-scheme: dark)"> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/diff2html@3.4.47/bundles/css/diff2html.min.css" integrity="sha256-IMBK4VNZp0ivwefSn51bswdsrhk0HoMTLc2GqFHFBXg=" crossorigin="anonymous"> <link defer rel="stylesheet" type="text/css" href="https://tikzjax.com/v1/fonts.css"> <script src="/course_ai/assets/js/distillpub/template.v2.js"></script> <script src="/course_ai/assets/js/distillpub/transforms.v2.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "Constraints Satisfaction Problems",
            "description": "Assignement on solving the NQueen using backtracking ",
            "published": "March 20, 2025",
            "authors": [
              
              {
                "author": "Anass Belcaid",
                "authorURL": "https://anassbelcaid.github.io/",
                "affiliations": [
                  {
                    "name": "IAD, ENSA-Te",
                    "url": ""
                  }
                ]
              }
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/course_ai/"> Fundamentals of Artificial Intelligence </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/course_ai/">CS241 </a> </li> <li class="nav-item "> <a class="nav-link" href="/course_ai/lectures/">Schedule </a> </li> <li class="nav-item active"> <a class="nav-link" href="/course_ai/assignments/">Assignments <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/course_ai/projects/">projects </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Constraints Satisfaction Problems</h1> <p>Assignement on solving the NQueen using backtracking </p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div> <a href="#introduction">Introduction</a> </div> <div> <a href="#question-1-valid-board-check-4-pts">Question 1 ‚Äî Valid Board Check (4 pts)</a> </div> <div> <a href="#question-2-backtracking-search-6-pts">Question 2 ‚Äî Backtracking Search (6 pts)</a> </div> <div> <a href="#question-3-forward-checking-i">Question 3 _ Forward checking I</a> </div> <div> <a href="#question-4-forward-checking-ii-6-pts">Question 4 ‚Äî Forward Checking II (6 pts)</a> </div> <div> <a href="#question-5-solving-sudoku-with-forward-checking-10-pts">Question 5 ‚Äî Solving Sudoku with Forward Checking (10 pts)</a> </div> <div> <a href="#question-6-local-search-min-conflicts-heuristic-10-pts">Question 6 ‚Äî Local Search (Min-Conflicts Heuristic) (10 pts)</a> </div> </nav> </d-contents> <center> <img src="https://anassbelcaid.github.io/course_ai/assets/project_2.png" alt="Girl in a jacket" width="450" height="450"> </center> <div class="caption"> Queens don't like to fight. But drop them on a chessboard, and things get tense. Help them find peace ‚Äî one smart move at a time. </div> <h2 id="-introduction">üß† Introduction</h2> <p>In this assignment, you‚Äôll explore how <strong>Constraint Satisfaction Problems (CSPs)</strong> can be applied to the classic <strong>N-Queens problem</strong> ‚Äî a challenge of placing N queens on an N√óN chessboard so that none attack each other.</p> <p>You will implement and evaluate two fundamental approaches:</p> <ul> <li>‚ú® <strong>Backtracking Search</strong>: A depth-first strategy that places queens row by row while ensuring the board remains valid.</li> <li>üîÅ <strong>Local Search with <a href="https://en.wikipedia.org/wiki/Min-conflicts_algorithm" rel="external nofollow noopener" target="_blank">Min-Conflicts</a></strong>: A heuristic method that starts with a complete assignment and iteratively resolves conflicts until a solution emerges.</li> <li>üß© <strong>Sudoku Solver with <a href="https://en.wikipedia.org/wiki/Constraint_satisfaction_problem#Constraint_propagation" rel="external nofollow noopener" target="_blank">Forward Checking</a></strong>: You‚Äôll implement a CSP-based solver that fills in Sudoku puzzles by looking ahead and pruning invalid choices before they‚Äôre made.</li> </ul> <p>By the end, you‚Äôll not only solidify your understanding of <strong>CSPs and heuristics</strong>, but also visualize how these algorithms behave in real time.</p> <blockquote> <p><em>Can queens find harmony on the board? That‚Äôs your mission.</em> üëë</p> </blockquote> <p>Here is the <a href="/course_ai/csp/csp_homework.zip">Starter code </a> for this project.</p> <h2 id="question-1--valid-board-check-4-pts">Question 1 ‚Äî Valid Board Check (4 pts)</h2> <p>Before solving the N-Queens problem, we need a way to verify whether a given board configuration is valid ‚Äî that is, no two queens are attacking each other.</p> <p>In this question, your task is to <strong>implement the function <code class="language-plaintext highlighter-rouge">is_valid(queens)</code></strong> located in the <code class="language-plaintext highlighter-rouge">cps.py</code> file.</p> <p>The function should return <code class="language-plaintext highlighter-rouge">True</code> if the current queen positions do not conflict (no queens share the same column, row, or diagonal), and <code class="language-plaintext highlighter-rouge">False</code> otherwise.</p> <p>You‚Äôll be working with a dictionary where the keys are row indices and the values are column positions of queens. For example:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">queens</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">0</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</code></pre></div></div> <p>This represents 4 queens placed on a 4√ó4 board.</p> <h3 id="-your-task">‚úÖ Your Task</h3> <ul> <li>Open the file: <code class="language-plaintext highlighter-rouge">cps.py</code> </li> <li>Locate the function: <code class="language-plaintext highlighter-rouge">is_valid(queens)</code> </li> <li>Complete the implementation so it correctly checks for conflicts.</li> </ul> <h3 id="-to-test-your-code">üß™ To Test Your Code</h3> <p>We‚Äôve provided a test file with unit tests for this function.</p> <p>To run only the tests related to <code class="language-plaintext highlighter-rouge">is_valid</code>, use the following command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest <span class="nt">-m</span> is_valid
</code></pre></div></div> <blockquote> <p>‚úîÔ∏è Make sure your implementation passes all test cases before moving on.</p> </blockquote> <h2 id="question-2--backtracking-search-6-pts">Question 2 ‚Äî Backtracking Search (6 pts)</h2> <p>One of the classical approaches to solving the <strong>N-Queens problem</strong> is using <strong>backtracking search</strong>. This algorithm attempts to place queens on the board <strong>row by row</strong>, choosing one column at a time, and backtracks whenever a placement leads to an invalid configuration.</p> <p>The idea is simple:</p> <ul> <li>For each row, try placing a queen in every column.</li> <li>After placing a queen, check if the board remains valid (i.e., no queens attacking each other).</li> <li>If valid, move to the next row.</li> <li>If no valid column exists for the current row, backtrack to the previous one and try a different placement.</li> </ul> <p>This process continues recursively until all queens are successfully placed, or no solution is found.</p> <h3 id="-your-task-1">‚úÖ Your Task</h3> <p>Implement the function <code class="language-plaintext highlighter-rouge">backtracking(board, row=0)</code> in the file <code class="language-plaintext highlighter-rouge">csp.py</code>. This function should:</p> <ul> <li>Try placing one queen per row.</li> <li>Use the <code class="language-plaintext highlighter-rouge">is_valid()</code> method from Question 1 to ensure validity.</li> <li>Use recursion to proceed row by row.</li> <li>Use backtracking when a dead-end is reached.</li> </ul> <h3 id="-board-methods-available">üß© Board Methods Available</h3> <p>The board object passed into your function is an instance of the <code class="language-plaintext highlighter-rouge">ChessBoard</code> class. You can use the following methods:</p> <table> <thead> <tr> <th>Method</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">board.place_queen(row, col)</code></td> <td>Place a queen at <code class="language-plaintext highlighter-rouge">(row, col)</code> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">board.remove_queen(row, col)</code></td> <td>Remove a queen from <code class="language-plaintext highlighter-rouge">(row, col)</code> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">board.root.update()</code></td> <td> <strong>Important</strong>: Refreshes the board view</td> </tr> </tbody> </table> <blockquote> <p>‚ö†Ô∏è <strong>Attention</strong>: You must call <code class="language-plaintext highlighter-rouge">board.root.update()</code> after placing or removing a queen to visualize the changes on the board.</p> </blockquote> <h3 id="-to-test-your-code-1">üß™ To Test Your Code</h3> <p>To test your implementation on a board of size <code class="language-plaintext highlighter-rouge">n</code> (e.g., 8), use the following command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python run_solver.py 8 backtracking
</code></pre></div></div> <p>This will visually show your backtracking algorithm solving the N-Queens problem on an 8√ó8 board. You can change the size to any value you like (e.g., 4, 10, 12).</p> <h2 id="question-3-_-forward-checking-i">Question 3 _ Forward checking I</h2> <p>To enhance the efficiency of solving the N-Queens problem, we now move to a <strong>constraint propagation</strong> technique called <strong>forward checking</strong>.</p> <h3 id="-what-is-forward-checking">üß† What Is Forward Checking?</h3> <p>Instead of blindly placing queens and then checking validity, forward checking proactively eliminates choices by identifying <strong>which squares are no longer available</strong> after placing a queen.</p> <p>To do this, we must compute ‚Äî at any point in the algorithm ‚Äî which squares are <strong>forbidden</strong> (i.e., they are attacked by at least one existing queen).</p> <h3 id="-your-task-2">‚úÖ Your Task</h3> <p>Implement the function <code class="language-plaintext highlighter-rouge">get_forbidden_squares(queens, board_size)</code> in the file <code class="language-plaintext highlighter-rouge">csp.py</code>.</p> <h4 id="function-signature">Function Signature:</h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_forbidden_squares</span><span class="p">(</span><span class="n">queens</span><span class="p">,</span> <span class="n">board_size</span><span class="p">):</span>
    <span class="bp">...</span>
</code></pre></div></div> <h4 id="parameters">Parameters:</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">queens</code>: a dictionary of <code class="language-plaintext highlighter-rouge">{row: col}</code> where each queen is currently placed.</li> <li> <code class="language-plaintext highlighter-rouge">board_size</code>: the size of the board (N).</li> </ul> <h4 id="returns">Returns:</h4> <ul> <li>A set of <code class="language-plaintext highlighter-rouge">(row, col)</code> tuples representing all squares that are under attack by <strong>any</strong> queen currently on the board.</li> </ul> <h3 id="-reminder">üìå Reminder:</h3> <p>A square is considered <strong>forbidden</strong> if it shares:</p> <ul> <li>The <strong>same column</strong> with another queen.</li> <li>The <strong>same diagonal</strong> (positive or negative slope) with another queen.</li> <li>The <strong>same row</strong> is automatically excluded by design (we place one queen per row).</li> </ul> <h3 id="-to-test-your-code-2">üß™ To Test Your Code</h3> <p>We‚Äôve included a dedicated test suite for this function. Once implemented, run the following command to test only this part:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest <span class="nt">-m</span> get_forbidden
</code></pre></div></div> <center> <img src="https://anassbelcaid.github.io/course_ai/assets/forbidden_squares.png" alt="Girl in a jacket" width="450" height="450"> </center> <h2 id="question-4--forward-checking-ii-6-pts">Question 4 ‚Äî Forward Checking II (6 pts)</h2> <p>Now that you‚Äôve implemented <code class="language-plaintext highlighter-rouge">get_forbidden_squares()</code>, you‚Äôre ready to build a smarter N-Queens solver using <strong>forward checking</strong>.</p> <h3 id="-what-will-your-algorithm-do">üß† What Will Your Algorithm Do?</h3> <p>Unlike simple backtracking, this version will:</p> <ul> <li>Place one queen per row (as before),</li> <li>But <strong>before</strong> placing the next queen, <ul> <li>It will use <code class="language-plaintext highlighter-rouge">get_forbidden_squares()</code> to identify all attacked positions,</li> <li>And <strong>only consider valid (non-forbidden)</strong> positions for the next row,</li> </ul> </li> <li>If no valid columns are left in the next row, it backtracks.</li> </ul> <p>This form of <strong>constraint propagation</strong> helps prune the search space early ‚Äî making the algorithm significantly faster and more efficient.</p> <h3 id="-your-task-3">‚úÖ Your Task</h3> <p>Implement the function <code class="language-plaintext highlighter-rouge">forward_search(board, row=0)</code> in the file <code class="language-plaintext highlighter-rouge">csp.py</code>.</p> <h4 id="requirements">Requirements:</h4> <ul> <li>Use <code class="language-plaintext highlighter-rouge">get_forbidden_squares()</code> to determine the current forbidden positions.</li> <li>Only attempt placements in columns that are <strong>not forbidden</strong>.</li> <li>Recursively move to the next row if a queen is placed successfully.</li> <li>Backtrack if a dead-end is reached.</li> </ul> <h3 id="-board-methods-available-1">üß© Board Methods Available</h3> <p>As with backtracking, you can use:</p> <table> <thead> <tr> <th>Method</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">board.place_queen(row, col)</code></td> <td>Place a queen at <code class="language-plaintext highlighter-rouge">(row, col)</code> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">board.remove_queen(row, col)</code></td> <td>Remove a queen from <code class="language-plaintext highlighter-rouge">(row, col)</code> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">board.clear_not_possible()</code></td> <td>Clear red markers</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">board.mark_not_possible(r,c)</code></td> <td>Mark <code class="language-plaintext highlighter-rouge">(r,c)</code> as a forbidden (red) square</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">board.root.update()</code></td> <td>Refreshes the view (call after updates)</td> </tr> </tbody> </table> <blockquote> <p>‚ö†Ô∏è <strong>Important</strong>: Use <code class="language-plaintext highlighter-rouge">board.root.update()</code> to visualize each step and <code class="language-plaintext highlighter-rouge">mark_not_possible()</code> to highlight forbidden squares on the board.</p> </blockquote> <h3 id="-to-test-your-implementation">üß™ To Test Your Implementation</h3> <p>Run the following command to launch your visual solver with forward checking:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python run_solver.py 8 forward_search
</code></pre></div></div> <p>You should see:</p> <ul> <li>Queens being placed row by row,</li> <li>Forbidden squares marked in red after each move,</li> <li>And a full solution visualized when successful.</li> </ul> <blockquote> <p>üéØ Try experimenting with larger board sizes (e.g., 12, 16) to see how forward checking improves performance.</p> </blockquote> <h2 id="question-5--solving-sudoku-with-forward-checking-10-pts">Question 5 ‚Äî Solving Sudoku with Forward Checking (10 pts)</h2> <p>Sudoku is another <strong>Constraint Satisfaction Problem (CSP)</strong> where we must assign numbers to a <strong>9√ó9 grid</strong> while ensuring that:</p> <ul> <li>Each <strong>row</strong> contains digits 1-9 exactly once.</li> <li>Each <strong>column</strong> contains digits 1-9 exactly once.</li> <li>Each <strong>3√ó3 block</strong> contains digits 1-9 exactly once.</li> </ul> <p>In this question, you will complete a <strong>Sudoku solver using Forward Checking</strong> by implementing two key functions.</p> <h2 id="-your-task-4">üß† <strong>Your Task</strong> </h2> <p>You are given a partially implemented <strong>Sudoku solver</strong>. The GUI, board setup, and visualization methods have been provided. However, you must complete the two most important <strong>CSP methods</strong>:</p> <h3 id="1Ô∏è‚É£-get_possible_valuesboard-row-col">1Ô∏è‚É£ <code class="language-plaintext highlighter-rouge">get_possible_values(board, row, col)</code> </h3> <p>This function should return a <strong>set of valid numbers</strong> that can be placed at <code class="language-plaintext highlighter-rouge">(row, col)</code> without violating Sudoku constraints.</p> <p><strong>Implementation Details:</strong></p> <ul> <li>A number is valid <strong>if it doesn‚Äôt already appear</strong> in: <ul> <li>The same <strong>row</strong>.</li> <li>The same <strong>column</strong>.</li> <li>The <strong>3√ó3 block</strong> the cell belongs to.</li> </ul> </li> </ul> <h4 id="-function-signature-in-soduko_solverpy">üîß Function Signature (in <code class="language-plaintext highlighter-rouge">soduko_solver.py</code>):</h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_possible_values</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
    <span class="bp">...</span>
</code></pre></div></div> <p><strong>Example Usage:</strong></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">valid_numbers</span> <span class="o">=</span> <span class="nf">get_possible_values</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">valid_numbers</span><span class="p">)</span>  <span class="c1"># Output: {1, 3, 5, 6, 9} (depends on board state)
</span></code></pre></div></div> <h3 id="2Ô∏è‚É£-solve_with_forward_checkingboard">2Ô∏è‚É£ <code class="language-plaintext highlighter-rouge">solve_with_forward_checking(board)</code> </h3> <p>This function should implement <strong>Sudoku solving using Forward Checking</strong>:</p> <ul> <li> <strong>Find the next empty cell</strong> (row, col).</li> <li> <strong>Use <code class="language-plaintext highlighter-rouge">get_possible_values()</code></strong> to determine valid numbers for that position.</li> <li> <strong>Try placing a valid number</strong>, then recursively solve the rest of the board.</li> <li> <strong>Backtrack if needed</strong> when no valid numbers remain.</li> </ul> <h4 id="-function-signature-in-soduko_solverpy-1">üîß Function Signature (in <code class="language-plaintext highlighter-rouge">soduko_solver.py</code>):</h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">solve_with_forward_checking</span><span class="p">(</span><span class="n">board</span><span class="p">):</span>
    <span class="bp">...</span>
</code></pre></div></div> <h2 id="-whats-already-provided">üß© <strong>What‚Äôs Already Provided?</strong> </h2> <p>You <strong>do not</strong> need to worry about:</p> <ul> <li>The <strong>Sudoku board visualization</strong> (it‚Äôs already coded).</li> <li>The <strong>GUI updates</strong> (handled automatically).</li> <li>The <strong>Sudoku grid setup</strong> (a test puzzle is included).</li> </ul> <p>Your focus is <strong>only on implementing these two methods</strong>.</p> <h3 id="-to-test-your-code-3">üß™ <strong>To Test Your Code</strong> </h3> <p>Once implemented, run the following command to test your solver:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python sudoku_solver.py
</code></pre></div></div> <center> <img src="https://anassbelcaid.github.io/course_ai/assets/soduko.png" alt="Girl in a jacket" width="450" height="450"> </center> <ul> <li>First, you will see the <strong>original puzzle</strong>.</li> <li>After <strong>3 seconds</strong>, the board should <strong>fill in the solution</strong> if your functions are correct.</li> <li>If the solution is incorrect or doesn‚Äôt appear, debug your <code class="language-plaintext highlighter-rouge">get_possible_values()</code> function.</li> </ul> <h2 id="-hints">üí° <strong>Hints</strong> </h2> <ul> <li>To extract all numbers in a row: <code class="language-plaintext highlighter-rouge">board[row]</code> </li> <li>To extract all numbers in a column: <code class="language-plaintext highlighter-rouge">[board[r][col] for r in range(9)]</code> </li> <li>To find the <strong>3√ó3 block‚Äôs starting row/col</strong>, use: <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">start_row</span><span class="p">,</span> <span class="n">start_col</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="n">row</span> <span class="o">//</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="n">col</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> <blockquote> <p>üöÄ <strong>Challenge:</strong> Try solving a <strong>16√ó16 Sudoku</strong> (instead of 9√ó9) by modifying the board size!</p> </blockquote> <h2 id="question-6--local-search-min-conflicts-heuristic-10-pts">Question 6 ‚Äî Local Search (Min-Conflicts Heuristic) (10 pts)</h2> <p>To wrap up the assignment, you‚Äôll implement a <strong>local search strategy</strong> for solving the N-Queens problem using the powerful <strong>Min-Conflicts heuristic</strong>.</p> <p>This approach is particularly effective for <strong>high-dimensional boards</strong> (N &gt; 100), where traditional backtracking or forward checking would struggle.</p> <p>Local search starts with a <strong>complete but possibly invalid assignment</strong> ‚Äî placing one queen per row, even if there are conflicts. Then, it repeatedly improves the solution by:</p> <ol> <li>Selecting a queen that‚Äôs in conflict.</li> <li>Moving it within its row to the column that causes the <strong>fewest conflicts</strong>.</li> <li>Repeating this process until the board is conflict-free or a max number of steps is reached.</li> </ol> <p>This is known as the <strong>Min-Conflicts Algorithm</strong>.<br> It‚Äôs fast, efficient, and surprisingly effective ‚Äî even for large boards like 1000√ó1000.</p> <p>You will implement the following three functions in the file <code class="language-plaintext highlighter-rouge">csp.py</code>.</p> <h3 id="1Ô∏è‚É£-count_conflictsqueens-row-col">1Ô∏è‚É£ <code class="language-plaintext highlighter-rouge">count_conflicts(queens, row, col)</code> </h3> <p>This function returns the number of queens that would be attacking a queen if it were placed at position <code class="language-plaintext highlighter-rouge">(row, col)</code>.</p> <p><strong>Hints:</strong></p> <ul> <li>Count queens already placed in the same column or on the same diagonal.</li> <li>Do not count the queen in the same row (since only one queen per row is placed).</li> </ul> <h3 id="2Ô∏è‚É£-get_conflicted_rowsqueens">2Ô∏è‚É£ <code class="language-plaintext highlighter-rouge">get_conflicted_rows(queens)</code> </h3> <p>Returns a list of all row indices where the queen is <strong>currently in conflict</strong> with another queen.</p> <p>This helps us identify which queen to move during each iteration of local search.</p> <h3 id="3Ô∏è‚É£-min_conflictsboard-max_steps1000">3Ô∏è‚É£ <code class="language-plaintext highlighter-rouge">min_conflicts(board, max_steps=1000)</code> </h3> <p>The main solver. It should:</p> <ul> <li>Start with a random initial placement (1 queen per row).</li> <li>For up to <code class="language-plaintext highlighter-rouge">max_steps</code>, do: <ul> <li>Pick a row with a conflicted queen.</li> <li>Move the queen in that row to the column with the <strong>fewest conflicts</strong>.</li> <li>Update the board visually using <code class="language-plaintext highlighter-rouge">board.place_queen(...)</code> and <code class="language-plaintext highlighter-rouge">board.remove_queen(...)</code>.</li> </ul> </li> </ul> <p>If a solution is found (no conflicts remain), return <code class="language-plaintext highlighter-rouge">True</code>.<br> If <code class="language-plaintext highlighter-rouge">max_steps</code> is reached and conflicts still exist, return <code class="language-plaintext highlighter-rouge">False</code>.</p> <h3 id="-to-test-your-implementation-1">üß™ To Test Your Implementation</h3> <p>Try running your local search algorithm on a <strong>large board</strong> to see how fast it performs:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python run_solver.py 100 min_conflicts
</code></pre></div></div> <p>You should see a solution computed quickly ‚Äî even for 100√ó100 boards!</p> <blockquote> <p>üß† Try increasing N to 200, 500, or even 1000 to explore the scalability of local search.</p> </blockquote> <center> <img src="https://anassbelcaid.github.io/course_ai/assets/nqueens_conflicts.png" alt="Girl in a jacket" width="450" height="450"> </center> <h3 id="-bonus-challenge-no-extra-points">üöÄ Bonus Challenge (No Extra Points)</h3> <ul> <li>Add a <strong>random restart</strong> if a solution isn‚Äôt found after <code class="language-plaintext highlighter-rouge">max_steps</code>.</li> <li>Track and display the number of steps taken or conflicts resolved.</li> </ul> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/course_ai/assets/bibliography/2018-12-22-distill.bib"></d-bibliography> <div id="giscus_thread" style="max-width: 930px; margin: 0 auto;"> <script>
      let giscusTheme = determineComputedTheme();
      let giscusAttributes = {
        src: 'https://giscus.app/client.js',
        'data-repo': 'anassBelcaid/course_ai',
        'data-repo-id': '',
        'data-category': 'Comments',
        'data-category-id': '',
        'data-mapping': 'title',
        'data-strict': '1',
        'data-reactions-enabled': '1',
        'data-emit-metadata': '0',
        'data-input-position': 'bottom',
        'data-theme': giscusTheme,
        'data-lang': 'en',
        crossorigin: 'anonymous',
        async: '',
      };

      let giscusScript = document.createElement('script');
      Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value));
      document.getElementById('giscus_thread').appendChild(giscusScript);
    </script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> ¬© Copyright 2025 Anass Dr. Belcaid. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/course_ai/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/mermaid@10.7.0/dist/mermaid.min.js" integrity="sha256-TtLOdUA8mstPoO6sGvHIGx2ceXrrX4KgIItO06XOn8A=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js" integrity="sha256-1rA678n2xEx7x4cTZ5x4wpUCj6kUMZEZ5cxLSVSFWxw=" crossorigin="anonymous"></script> <script defer src="/course_ai/assets/js/mermaid-setup.js?38ca0a0126f7328d2d9a46bad640931f" type="text/javascript"></script> <script src="https://cdn.jsdelivr.net/npm/diff2html@3.4.47/bundles/js/diff2html-ui.min.js" integrity="sha256-eU2TVHX633T1o/bTQp6iIJByYJEtZThhF9bKz/DcbbY=" crossorigin="anonymous"></script> <script defer src="/course_ai/assets/js/diff2html-setup.js?80a6e52ce727518bbd3aed2bb6ba5601" type="text/javascript"></script> <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.min.js" integrity="sha256-MgH13bFTTNqsnuEoqNPBLDaqxjGH+lCpqrukmXc8Ppg=" crossorigin="anonymous"></script> <script defer src="/course_ai/assets/js/leaflet-setup.js?b6313931e203b924523e2d8b75fe8874" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" integrity="sha256-0q+JdOlScWOHcunpUk21uab1jW7C1deBQARHtKMcaB4=" crossorigin="anonymous"></script> <script defer src="/course_ai/assets/js/chartjs-setup.js?183c5859923724fb1cb3c67593848e71" type="text/javascript"></script> <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js" integrity="sha256-QvgynZibb2U53SsVu98NggJXYqwRL7tg3FeyfXvPOUY=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/theme/dark-fresh-cut.js" integrity="sha256-sm6Ui9w41++ZCWmIWDLC18a6ki72FQpWDiYTDxEPXwU=" crossorigin="anonymous"></script> <script defer src="/course_ai/assets/js/echarts-setup.js?738178999630746a8d0cfc261fc47c2c" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/vega@5.27.0/build/vega.min.js" integrity="sha256-Yot/cfgMMMpFwkp/5azR20Tfkt24PFqQ6IQS+80HIZs=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/vega-lite@5.16.3/build/vega-lite.min.js" integrity="sha256-TvBvIS5jUN4BSy009usRjNzjI1qRrHPYv7xVLJyjUyw=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/vega-embed@6.24.0/build/vega-embed.min.js" integrity="sha256-FPCJ9JYCC9AZSpvC/t/wHBX7ybueZhIqOMjpWqfl3DU=" crossorigin="anonymous"></script> <script defer src="/course_ai/assets/js/vega-setup.js?7c7bee055efe9312afc861b128fe5f36" type="text/javascript"></script> <script defer src="https://tikzjax.com/v1/tikzjax.js" integrity="sha256-+1qyucCXRZJrCg3lm3KxRt/7WXaYhBid4/1XJRHGB1E=" crossorigin="anonymous"></script> <script src="/course_ai/assets/js/typograms.js?062e75bede72543443762dc3fe36c7a5"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/course_ai/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/course_ai/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/course_ai/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/course_ai/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/course_ai/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/course_ai/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/course_ai/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/course_ai/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> </body> </html>